<!DOCTYPE html>
<script src="https://unpkg.com/compromise@latest/builds/compromise.min.js"></script>
<script>
	function process()
	{
		var unProc = nlp(document.getElementById("toProcess").value); //Converting input text into the nlp object for further processing.
		
		var option = document.getElementById("option").value; //collecting the value of the select box.
		
		switch(option) //Switch for each result of the select statement.
		{
			case "plural":
				plural(unProc);
				break;
			case "single":
				single(unProc);
				break;
			case "contract":
				contract(unProc);
				break;
			case "removeContract":
				removeContract(unProc);
				break;
			case "negative":
				negative(unProc);
				break;
			case "names":
				names(unProc);
				break;
			case "numbers":
				numbers(unProc);
				break;
			case "future":
				future(unProc);
				break;
			case "past":
				past(unProc);	
				break;
			case "normal":
				normal(unProc);		
				break;
			default: //Used when the switch case doesn't find an appropriate value from the select case.
				window.alert("ERROR #01 -- select statement broken");
		}
	}
	
	function plural(pluralInput) //converts words and sentence fragments into plural variants.
	{
		var pluralOutput = pluralInput.nouns().toPlural().out('text');
		window.alert(pluralOutput);
	}
	
	function single(singleInput) //converts words and sentence fragments into singular variants. *BROKEN* toSingle() nonfunctional.
	{
		var singleOutput = singleInput.nouns().toSingle().out('text');
		window.alert(singleOutput);
	}
	
	function contract(contractInput) //Adds contractions to work combinations e.g. it is --> it's.
	{
		var contractOutput = contractInput.contractions().contract().out('text');
		window.alert(contractOutput);
	}
	
	function removeContract(contractInput) //reverts contracions into seperate words.
	{
		var contractOutput = contractInput.contractions().expand().out('text');
		window.alert(contractOutput);
	}
	
	function negative(negInput) //Converts a sentence into it's negative variant.
	{
		var negOutput = negInput.sentences().toNegative().out('text');
		window.alert(negOutput);
	}
	
	function names(nameInput) //Extracts names from a sentence or paragraph.
	{
		var nameOutput = nameInput.people().out('text');
		window.alert(nameOutput);
	}
	
	function numbers(numInput)
	{
		var numOutput = numInput.values().out('text'); //extracts numbers from a sentence or paragraph. Can be similarly used to turn direct numbers into letters e.g. 12 --> twelve.
		window.alert(numOutput);
	}
	
	function future(futureInput)
	{
		var futureOutput = futureInput.sentences().toFutureTense().out('text'); //Converst a sentence to the future tense.
		window.alert(futureOutput);
	}
	
	function past(pastInput)
	{
		var pastOutput = pastInput.sentences().toPastTense().out('text'); //Converts a sentence to the past tense.
		window.alert(pastOutput);
	}
	
	function normal(normInput) //Removes anomalies and poor editting from paragraphs.
	{
		var normOutput = normInput.normalize().out('text');
		window.alert(normOutput);
	}
</script>

<head>
    <meta charset="utf-8" />
    <title>Javascript NLP Test</title>
</head>
<body>
	<h1>Compromise</h1>
	<p><input type="text" id ="toProcess"></p> <!-- Simple input form consisting of a text box, button and select drop down menu. -->
	<p><button onclick="process()">Process!</button></p>
	<select id = "option">
		<option value="plural">Pluralise</option>
		<option value="single">Singular</option>
		<option value="contract">Add Contractions</option>
		<option value="removeContract">Remove Contractions</option>
		<option value="negative">Turn Negative</option>
		<option value="names">Find Names</option>
		<option value="numbers">Find Numbers</option>
		<option value="future">Future Tense</option>
		<option value="past">Past Tense</option>
		<option value="normal">Normalise</option>
	</select>
</body>
</html>
